<canvas id="canvas"></canvas>
<script>document.body.style.margin=0,document.body.style.padding=0;function cyrb128(t){let e=1779033703,s=3144134277,$=1013904242,l=2773480762;for(let o=0,n;o<t.length;o++)e=s^Math.imul(e^(n=t.charCodeAt(o)),597399067),s=$^Math.imul(s^n,2869860233),$=l^Math.imul($^n,951274213),l=e^Math.imul(l^n,2716044179);return e=Math.imul($^e>>>18,597399067),s=Math.imul(l^s>>>22,2869860233),$=Math.imul(e^$>>>17,951274213),l=Math.imul(s^l>>>19,2716044179),[(e^s^$^l)>>>0,(s^e)>>>0,($^e)>>>0,(l^e)>>>0]}function sfc32(t,e,s,$){return function(){s>>>=0,$>>>=0;var l=(t>>>=0)+(e>>>=0)|0;return t=e^e>>>9,e=s+(s<<3)|0,s=(s=s<<21|s>>>11)+(l=l+($=$+1|0)|0)|0,(l>>>0)/4294967296}}let mathRand=sfc32(...cyrb128(TokenID));function darkenColor(t,e=50){let s=parseInt(t.slice(1,3),16),$=parseInt(t.slice(3,5),16),l=parseInt(t.slice(5,7),16),o=Math.max(s,$,l),n=Math.min(s,$,l),a,F,c=o,r=o-n;if(F=0===o?0:r/o,o===n)a=0;else{switch(o){case s:a=($-l)/r+($<l?6:0);break;case $:a=(l-s)/r+2;break;case l:a=(s-$)/r+4}a/=6}let h=Math.floor(6*a),_=6*a-h,d=(c=Math.max(0,c-e))*(1-F),C=c*(1-_*F),p=c*(1-(1-_)*F);switch(h%6){case 0:s=c,$=p,l=d;break;case 1:s=C,$=c,l=d;break;case 2:s=d,$=c,l=p;break;case 3:s=d,$=C,l=c;break;case 4:s=p,$=d,l=c;break;case 5:s=c,$=d,l=C}return"#"+[s,$,l].map(t=>{let e=Math.round(t).toString(16);return 1===e.length?"0"+e:e}).join("")}class Vector{constructor(t,e){this.x=t,this.y=e}}class Ball{constructor(t,e,s,$){this.location=new Vector(t,e),this.canvasSize=$,this.cellSize=Math.floor(map(PTS,ptsMin,ptsMax,this.canvasSize/12,this.canvasSize/16)),this.color=s}display(t){t.strokeStyle=S_COL,t.fillStyle=this.color,t.beginPath(),t.rect(this.location.x-this.cellSize/2,this.location.y-this.cellSize/2,this.cellSize,this.cellSize),t.fill(),t.stroke()}}let canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),PTS,SIZE=Math.min(window.innerWidth,window.innerHeight),RES=SIZE/1e3,MG=.1*SIZE,S_WGHT=2*RES,S_COL="0";const ptsMin=10,ptsMax=30;let cols,rows,nodes=[];const COLORS=[["#4B8DA3","#F0E68C","#FFDAB9","#DDA0DD","#FFF0F5"],["#775A3D","#6B8E23"],["#355a7a","#008B8B","#E0FFFF","#B0E0E6","#AFEEEE"],["#FF4500","#FFD700","#FFA500"],["#556B2F","#228B22","#9ACD32","#3CB371","#90EE90"],["#A9A9A9","#D3D3D3","#C0C0C0"],["#CA3600","#FF6347","#FFB6C1","#FFA07A","#FFC0CB"],["#8A6200","#F4A460","#DAA520","#CD853F","#D2691E"],["#070797","#4169E1","#4AD2FA","#B887FF"],["#407070","#6C6464","#7DA6A6","#BEBEBE"],["#74AAB0","#AFEEEE","#E0FFFF","#BBFFFF"],["#A83D3D","#FF7F50","#F08080","#FF6347","#FA8072"],["#C7B6A2","#D2D2D2","#E0E0E0","#F0F0F0","#FFFFFF"],["#311DAA","#00FF00","#00FFFF","#FF00FF","#FF7F00","#FFD700"],["#AD9D8E","#D3A880","#F4D0A0","#F5D5A4","#FFF0E0"],["#0066CC","#0099CC","#66CCFF","#99FFFF","#CCFFFF"],["#663399","#7A4499","#9966CC","#BB88FF","#DDA0DD"],["#008000","#00CC00","#00FF00","#99FF66","#CCFF99"],["#C28C38","#D9A665","#E9C48A","#F2D8AF","#F5E7D2"],["#C71585","#FF1493","#FFB6C1","#FF69B4","#DB7093"],];ctx.lineWidth=S_WGHT,PTS=ptsMin+Math.floor(mathRand()*(ptsMax-ptsMin));let thisPalette=COLORS[Math.floor(mathRand()*COLORS.length)],colsMin=Math.floor(map(PTS,ptsMin,ptsMax,2,4));cols=colsMin+Math.floor(5*mathRand());let ptsTemp=PTS;nodes=[];let ptsRows=[],ptsCols=[],colStyle=mathRand(),colorIndex=0;for(let i=0;i<cols;i++){let t=Math.abs(cols-i-0),e=Math.floor(ptsTemp/t*(.75+mathRand()*(.25+(cols-i)*.1))),s=Math.floor(ptsTemp/t*(1+mathRand()*(.15+(cols-i)*.1))),$=i!==cols-1?Math.floor(e+mathRand()*(s-e)):ptsTemp;ptsRows.push($),ptsTemp-=$}if(colStyle>.66)for(let i=0;i<cols;i++){let l=Math.floor(mathRand()*thisPalette.length);for(let o=0;o<ptsRows[i];o++)ptsCols.push(thisPalette[l])}else if(colStyle>.33){let n=Math.max(...ptsRows),a=Array(n).fill().map(()=>thisPalette[Math.floor(mathRand()*thisPalette.length)]);for(let F=0;F<cols;F++)for(let c=0;c<ptsRows[F];c++)ptsCols.push(a[c])}else for(let i=0;i<cols;i++)for(let j=0;j<ptsRows[i];j++)ptsCols.push(thisPalette[Math.floor(mathRand()*thisPalette.length)]);function setup(){canvas.width=SIZE,canvas.height=SIZE,colorIndex=0;for(let t=0;t<cols;t++){let e=ptsRows[t],s=(SIZE-2*MG)/(cols+1);nodes[t]=[];for(let $=0;$<e;$++){let l=(SIZE-2*MG)/(e+1);nodes[t][$]=new Ball(MG+s*(t+1),MG+l*($+1),ptsCols[colorIndex],SIZE),colorIndex++}}}function draw(){ctx.fillStyle=darkenColor(thisPalette[0]),ctx.fillRect(0,0,canvas.width,canvas.height),ctx.lineWidth=S_WGHT/2,ctx.strokeStyle=S_COL;for(let t=0;t<nodes.length-1;t++)for(let e=0;e<nodes[t].length;e++)for(let s=0;s<nodes[t+1].length;s++)ctx.beginPath(),ctx.moveTo(nodes[t][e].location.x,nodes[t][e].location.y),ctx.lineTo(nodes[t+1][s].location.x,nodes[t+1][s].location.y),ctx.stroke();ctx.lineWidth=S_WGHT;for(let $=0;$<nodes.length;$++)for(let l=0;l<nodes[$].length;l++)nodes[$][l].display(ctx)}function map(t,e,s,$,l){return $+(l-$)*((t-e)/(s-e))}function saveCanvas(t){let e=document.createElement("a");e.download=t,e.href=canvas.toDataURL(),e.click()}function saveCanvasAs4K(){let t=RES;S_WGHT=2*(RES=(SIZE=4e3)/1e3),setup(),draw(),saveCanvas(`Locked CryptoAgents #${TokenID} 4K.png`),SIZE=1e3*(RES=t),S_WGHT=2*RES,setup(),draw()}document.addEventListener("keydown",t=>{("k"===t.key||"K"===t.key)&&saveCanvasAs4K(),("s"===t.key||"S"===t.key)&&saveCanvas(`Locked CryptoAgents #${TokenID}.png`)}),setup(),draw();</script>